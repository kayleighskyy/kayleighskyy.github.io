  <!DOCTYPE html>
<!--
    Name: Kayleigh Phongvichith
    File: Homework2.html
    Date Created: October 21, 2025
    Date Updated: September 26, 2025 -- need to update when finished
    Purpose: Homework #2
-->
<html>
    <head>
        <title>Kayleigh's Homework 2</title>
        <link rel="stylesheet" href="./Homework1.css">
    </head>
    <body>
        <div id="header">
            <table width="100%">
                <tr>
                    <td>
                        <img
                            id="logo"
                            src="./Homework1Logo.jpg"
                            height="150"
                            width="150"
                            alt="logo"
                        >
                    </td>
                    <td class="page-title">Houston Health & Wellness
                    <td valign="bottom" text-align="right">Today's Date: <span id="date"></span></td>
                </tr>
            </table>
        </div>
        <hr>
<div class="center">
<form action="./Thankyou.html" method="get" id="wellnessform" novalidate>
    <div class="border">
    <table class="form">
    <tr class="form">
        <div class="heading">Create Patient Profile</div>
    </tr>
    <tr class="form">
        <td align="right">
            <label for="name">Name</label>
        </td>
        <td>
            <input type="text"
                   size="25"
                   minlength="1"
                   maxlength="30"
				   pattern="[A-Za-z' \-]{1,30}"
                   id="firstname"
                   name="First Name"
                   required
                   placeholder="First Name"
				   title="Minumum 1 character; only letters, spaces, dashes and apostrophes allowed."
            >
            
            
            <input type="text"
                   size="2"
                   maxlength="1"
				   pattern="[A-Za-z]{0}"
                   id="middleinit"
                   name="Middle Initial"
                   placeholder="MI"
            >
            
            <input type="text"
                   size="25"
                   minlength="1"
                   maxlength="30"
				   pattern="[A-Za-z2-5' -]{1,30}"
                   id="lastname"
                   name="Last Name"
                   required
                   placeholder="Last Name"
                   title="Minumum 1 character; only letters, apostrophes, numbers (3rd), and dashes allowed."
            >
            
        <span id="name_text"></span>
    </tr>
    <tr class="form">
        <td align="right">
            <label for="addr1">Address 1</label>
        </td>
        <td>
            <input type="text"
                    size="57"
                    minlength="2"
                    maxlength="30"
                    id="addr1"
                    name="Address 1"
                    required
                    placeholder="Street Number and Street Name"
            >
        <span id="addr1_text"></span>
    </tr>
    <tr class="form">
        <td align="right">
            <label for="addr2">Address 2</label>
        </td>
        <td>
            <input type="text"
                   size="57"
                   minlength="2"
                   maxlength="30"
                   id="addr2"
                   name="Address 2"
                   placeholder="Apt, Unit, Etc"
            >
        <span id="addr2_text"></span>
    </tr>
    <tr class="form">
        <td align="right">
            <label for="city">City,</label>
            <label for="state">State,</label>
            <label for="zip">Zip</label>
        </td>
        <td>
            <input type="text"
                   size="20"
                   minlength="2"
                   maxlength="30"
                   id="city"
                   name="City"
                   required
                   placeholder="City"
            >
            <select name="State" id="state" required>
                <option value=" " disabled selected>Select a State</option>
                <option value="AL">Alabama</option>
	            <option value="AK">Alaska</option>
	            <option value="AZ">Arizona</option>
	            <option value="AR">Arkansas</option>
	            <option value="CA">California</option>
	            <option value="CO">Colorado</option>
	            <option value="CT">Connecticut</option>
	            <option value="DE">Delaware</option>
	            <option value="DC">District Of Columbia</option>
	            <option value="FL">Florida</option>
	            <option value="GA">Georgia</option>
	            <option value="HI">Hawaii</option>
	            <option value="ID">Idaho</option>
	            <option value="IL">Illinois</option>
	            <option value="IN">Indiana</option>
	            <option value="IA">Iowa</option>
	            <option value="KS">Kansas</option>
	            <option value="KY">Kentucky</option>
	            <option value="LA">Louisiana</option>
	            <option value="ME">Maine</option>
	            <option value="MD">Maryland</option>
	            <option value="MA">Massachusetts</option>
	            <option value="MI">Michigan</option>
	            <option value="MN">Minnesota</option>
	            <option value="MS">Mississippi</option>
	            <option value="MO">Missouri</option>
	            <option value="MT">Montana</option>
	            <option value="NE">Nebraska</option>
	            <option value="NV">Nevada</option>
	            <option value="NH">New Hampshire</option>
	            <option value="NJ">New Jersey</option>
	            <option value="NM">New Mexico</option>
	            <option value="NY">New York</option>
	            <option value="NC">North Carolina</option>
	            <option value="ND">North Dakota</option>
	            <option value="OH">Ohio</option>
	            <option value="OK">Oklahoma</option>
	            <option value="OR">Oregon</option>
	            <option value="PA">Pennsylvania</option>
	            <option value="RI">Rhode Island</option>
	            <option value="SC">South Carolina</option>
	            <option value="SD">South Dakota</option>
	            <option value="TN">Tennessee</option>
	            <option value="TX">Texas</option>
	            <option value="UT">Utah</option>
	            <option value="VT">Vermont</option>
	            <option value="VA">Virginia</option>
	            <option value="WA">Washington</option>
	            <option value="WV">West Virginia</option>
	            <option value="WI">Wisconsin</option>
	            <option value="WY">Wyoming</option>
                <option value="PR">Puerto Rico</option>
                <! -- https://www.freeformatter.com/usa-state-list-html-select.html -->
            </select>

            <input type="text"
                   pattern="^\d{5}(-\d{4})?$"
                   size="13"
                   maxlength="10"
                   id="zip"
                   name="Zip"
                   required
                   placeholder="Zip"
            >
            <span id="city_text"><span id="state_text"></span>
    </tr>
    <tr class="form">
        <td align="right">
            <label for="phone">Phone Number</label>
        </td>
        <td>
            <div style="display:flex; align:center; gap:74px;">
                <div>
            <input type="tel"
                   size="15"
                   maxlength="12"
                   pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
                   id="phone"
                   name="Phone Number"
                   required
                   placeholder="972-987-0987"
            >
                </div>
                <div>
            <label for="work">Work Number</label>
            <input type="tel"
                   size="15"
                   maxlength="13"
                   pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
                   id="work"
                   name="Work Number"
                   placeholder="945-123-4567"
            >
                </div>
            </div>
            <span id="phone_text"><span id="work_text"></span>
    </tr>
    <tr class="form">
        <td align="right">
            <label for="birth">Date of Birth</label>
        </td>
        <td>
            <div style="display:flex; align:center; gap:140px;">
                <div>
            <input type="date"
                   size="15"
                   maxlength="13"
                   id="birth"
                   name="Date of Birth"
                   required
                   title="Please select your date of birth."
            >
                </div>
                <div>
            <label for="ssn">SSN</label>
            <input type="password"
                   size="15"
                   maxlength="11"
                   pattern="\d{3}-\d{2}-\d{4}"
                   id="ssn"
                   name="SSN"
                   required
                   placeholder="***-**-1234"
            >
                </div>
            </div>  
            <span id="birth_text"><span id="ssn_text"></span>     
    </tr>
    <tr class="form">
        <td align="right">
            <label for="gender">Gender</label>
        </td>
        <td>
            <div style="display:flex; align:center; gap:50px;">
                <div>
            <input type="radio"
                   id="male"
                   name="gender"
                   value="Male"
                   required
            >
            <label for="male">Male</label>
                </div>
                <div>
            <input type="radio"
                   id="female"
                   name="gender"
                   value="Female"
                   required
            >
            <label for="female">Female</label>
                </div>
                <div>
            <input type="radio"
                   id="other"
                   name="gender"
                   value="Other"
                   required
            >
            <label for="other">Other</label>
                </div>
    </tr>

    <tr>
        <td style="height:30px;"></td>
    </tr>
    <tr class="form">
        <td align="right">
            <label for="username">Desired Username</label>
        </td>
        <td>
            <input type="text"
                    size="57"
                    minlength="5"
                    maxlength="30"
                    pattern="[A-Za-z][A-Za-z0-9_-]{5,30}"
                    id="username"
                    name="Username"
                    required
                    placeholder="No special characters or spaces"
            >
        <span id="username_text"></span>
        </td>
    </tr>
    <tr class="form">
        <td align="right">
            <label for="email">Email</label>
        </td>
        <td>
            <input type="email"
                    size="57"
                    id="email"
                    name="Email"
                    required
                    placeholder="Emailname@example.com"
            >
        <span id="email_text"></span>
        </td>
    </tr>
    <tr class="form">
        <td align="right">
            <label for="password">Password</label>
        </td>
        <td>
            <input type="password"
                    size="57"
                    minlength="8"
                    maxlength="30"
                    id="password"
                    name="Password"
                    required
                    placeholder="********"
            >
        <span id="password"></span>
        </td>
    </tr>
    <tr class="form">
        <td align="right">
            <label for="passreq">Password Requirements</label>
        </td>
        <td>
            <div class="list">
            <ul>
                <li> 8 to 30 Characters</li>
                <li> 1 Upper case</li>
            </ul>
            <ul>
                <li> 1 Lower case</li>
                <li> 1 Special Character</li>
            </ul>
        </td>
    </tr>
    <tr class="form">
        <td align="right">
            <label for="vpass">Verify Password</label>
        </td>
        <td>
            <input type="password"
                    size="57"
                    minlength="8"
                    maxlength="30"
                    id="vpass"
                    name="Verify Password"
                    required
                    placeholder="********"
            >
        <span id="vpass_text"></span>
        </td>
    </tr>
    </table>
</div>
<div class="center">
<div class="heading">Reason for visit</div>
<div class="column">
        <div class="left">
        <p>Please select one of the following for your visit</p>
        <div class="group">
            <input type="checkbox"
                   id="option1"
                   name="Checkup"
                   value="Checkup"
                   
            >
            <label for="option1">Checkup</label><br></div>
        <div class="group">
            <input  type="checkbox"
                   id="option2"
                   name="Vaccinations"
                   value="Vaccinations"
                   
            >
            <label for="option2">Vaccinations</label><br></div>
        <div class="group">
            <input type="checkbox" 
                   id="option3" 
                   name="Covid-19" 
                   value="Covid-19"
                   
            >
            <label for="option3">Covid-19</label><br></div>
        <div class="group">
            <input type="checkbox" 
                   id="option4" 
                   name="Strep Throat" 
                   value="Strep Throat"
                   
            >
            <label for="option4">Strep Throat</label><br></div>
        <div class="group">
            <input type="checkbox" 
                   id="option5" 
                   name="Other" 
                   value="Other (Please specify)"
                   
            >
            <label for="option5">Other (Please specify)</label>
            <input type="text"
                   id="option5_textarea"
                   name="option5_textarea"
                   size="20"
            >
        </div>
    </div>
<div class="right">
<div class="group"> 
        <label for="vacc">Have you been vaccinated?</label>
            <input type="radio"
                   id="vacc-yes"
                   name="Vaccinated"
                   value="Yes"
                   
            >
            <label for="vacc-yes">Yes</label>
            <input type="radio"
                   id="vacc-no"
                   name="Vaccinated"
                   value="No"
                   
            >
            <label for="vacc-no">No</label>
            </div>
            <div class="group">
           <label for="insurance">Do you have insurance?</label>
            <input type="radio"
                   id="insurance-yes"
                   name="Insurance"
                   value="Yes"
                   
            >
            <label for="insurance-yes">Yes</label>
            <input type="radio"
                   id="insurance-no"
                   name="Insurance"
                   value="No"
                   
            >
            <label for="insurance-no">No</label>
        </div>
    </div>
</div>
<div class="center">
<div class="slidecontainer">
    <label for="pain">Pain Level</label>
        <span>0</span>
            <input type="range"
                   min="0"
                   max="10"
                   value="50"
                   id="pain"
                   name="Pain Level"
                   class="slider"
                   required
            >
        <span>10</span>
        <p style="margin-top:10px;">Value: <span id="val"></span></p>
</div>
<script>
    var slider = document.getElementById("pain");
    var output = document.getElementById("val");
    output.innerHTML = slider.value;

    slider.oninput = function() {
        output.innerHTML = this.value;
    }
</script>
<div class="align-textarea">
    <label for="detail">Please tell us any additional information you would like us to know</label>
        <textarea id="detail" 
                  name="Additional Information"
                  rows="4"
                  cols="50"
        >
        </textarea>
</div>
<div class="radio-button">
    <input type="button"
           id="review"
           value="review"
    >
    <input type="submit"
           value="Submit"
           id="submit"
           class="right-submit"
    >
    <input type="reset"
           value="Reset"
           id="reset"
           class="left-reset"
    >
</div>
<div id="reviewoutput"></div>
</form>
<div class="heading"></div>
<footer>
    <div style="display:flex; align:center; gap:55%;">
    <div>
        <p style="margin:0; font-weight:bold;">Houston Health & Wellness | <a href="https://www.bauer.uh.edu/" target="_blank" style="color:deepskyblue;">Contact Us</a></p>
    </div>
<div style="display:flex; align:center; gap:5px;">
    <div>
        <a href="https://www.facebook.com/" target="_blank">
        <img src="./Facebook-logo-blue-circle-large-transparent-png.png" 
         alt="facebook"
         style="width:45px; height:45px; vertical-align: middle;"
        >
        </a>
    </div>
    <div>
        <a href="https://www.instagram.com/accounts/login/?hl=en" target="_blank">
         <img src="./1600429.png"
         alt="instagram"
         style="width:45px; height:45px; vertical-align: middle;"
        >
        </a>
        </div>
</footer>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const today = new Date();
        const formattedDate = 
            String(today.getMonth() + 1).padStart(2, '0') + '/' +
            String(today.getDate()).padStart(2, '0') + '/' +
            String(today.getFullYear());
        const dateElement = document.getElementById('date');
        if (dateElement) dateElement.textContent = formattedDate;

    function formatDate(date) {
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const day = String(date.getDate()).padStart(2, '0');
        return `${year}-${month}-${day}`;
    }
    
    function setBirthLimits() {
        const birthInput = document.getElementById('birth');
        if (!birthInput) return;
        const today = new Date();
            const maxDateString = formatDate(today);
            const minDate = new Date();
            minDate.setFullYear(today.getFullYear() - 120);
            const minDateString = formatDate(minDate);
            birthInput.setAttribute('max', maxDateString);
            birthInput.setAttribute('min', minDateString);
            console.log(`Birth date range set from ${minDateString} to ${maxDateString}`);
    }
    setBirthLimits();

    const form = document.getElementById('wellnessform');
    if (!form) return;
    const fieldsToValidate = form.querySelectorAll('input, textarea');

    function validateField(inputElement) {
        const errorSpan = document.getElementById(inputElement.id + '_text');
        let errorMessage = '';
        const value = inputElement.value;
        const validity = inputElement.validity;

        if (!inputElement.checkValidity()) {
            if (!value && validity.valueMissing) {
                errorMessage = `${inputElement.name || 'This field'} is required.`;
            }
            else if (value.length > 0 && value.length < inputElement.minLength){
                errorMessage = `${inputElement.name} must be at least ${inputElement.minLength} characters long.`;
            } 
            else if (inputElement.pattern && value.length > 0) {
                const regex = new RegExp(`^${inputElement.pattern}$`);
                if (!regex.test(value)){
                    errorMessage = inputElement.title || `Please match the required format.`;
                }
            }
            else if (value.length > inputElement.maxLength){
                errorMessage = `${inputElement.name} can only be ${inputElement.maxLength} characters long.`;
            }
            else if (validity.typeMismatch) {
                errorMessage = `Please enter a valid ${inputElement.name}`;
            }
            if (errorSpan) {
                 errorSpan.textContent = errorMessage;   
            } 
                inputElement.classList.add('invalid');
                return false;
            } else {
                if (errorSpan) errorSpan.textContent = '';
                inputElement.classList.remove('invalid');
                return true;
            }
        }

        fieldsToValidate.forEach(field => {
            field.addEventListener('blur', () => validateField(field));
            field.addEventListener('input', () => validateField(field));
        });
        form.addEventListener('submit', function(event) {
            const usernameInput = document.getElementById('username');
            if (usernameInput) usernameInput.value = usernameInput.value.toLowerCase();

            const passwordInput = document.getElementById('password');
            const confirmInput = document.getElementById('vpass');
            const passwordError = document.getElementById('password_text');
            const confirmError = document.getElementById('vpass_text');
            const firstname = document.getElementById('firstname')?.value.toLowerCase() || '';
            const lastname = document.getElementById('lastname')?.value.toLowerCase() || '';

            let formIsValid = true;
            let password = passwordInput.value;
            let username = usernameInput.value;

            const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()\-_=+.,`~<>])[A-Za-z\d!@#$%^&*()\-_=+.,`~<>]{8,30}$/;
            if (!passwordPattern.test(password)) {
                passwordError.textContent = 'Password must be 8-30 characters and have one uppercase and lowercase letter, a number, and one special character.';
                formIsValid = false;
            }
            if (password.includes('"') || password.includes("'")) {
                passwordError.textContent = 'Quotes are not allowed.';
                formIsValid = false; 
            }
            if (password.toLowerCase().includes(username) ||
                password.toLowerCase().includes(firstname) ||
                password.toLowerCase().includes(lastname)) {
                passwordError.textContent = 'Password cannot match your username or name'
                formIsValid = false;
            }
            if (password !== confirmInput.value) {
                confirmError.textContent = 'Passwords do not match';
                formIsValid = false;
            }
            fieldsToValidate.forEach(field => {
                if (!validateField(field)) formIsValid = false;
            });
            if (!formIsValid) {
                event.preventDefault();
                alert('Please review and correct the errors');
            }
        });

    const ssnInput = document.getElementById('ssn');
    if (ssnInput) {
        ssnInput.addEventListener('input', function() {
            let value = this.value.replace(/\D/g, '');
            let formattedValue = '';
            if (value.length > 0) formattedValue += value.substring(0,3);
            if (value.length > 3) formattedValue += '-' + value.substring(3,5);
            if (value.length > 5) formattedValue += '-' + value.substring(5,9);
            this.value = formattedValue;    
        });
    }
    const phoneInput = document.getElementById('phone');
    if (phoneInput) {
        phoneInput.addEventListener('input', function() {
            let value = this.value.replace(/\D/g, '');
            value = value.substring(0,10);
            let formattedValue = '';
            if (value.length > 0) formattedValue += value.substring(0,3);
            if (value.length > 3) formattedValue += '-' + value.substring(3,6);
            if (value.length > 6) formattedValue += '-' + value.substring(6,10);
            this.value = formattedValue;    
        });
    }
    const zipInput = document.getElementById('zip');
    if (zipInput) {
        zipInput.addEventListener('input', function() {
            let value = this.value.replace(/\D/g, '');
            if (value.length > 9) value = value.substring(0, 9);
            if (value.length > 5) value = value.substring(0, 5) + '-' + value.substring (5);
            this.value = value;
        });
    }
    document.getElementById('review').addEventListener('click', function() {
        const form = document.getElementById('wellnessform');
        const output = document.getElementById('reviewoutput');
        output.innerHTML = '';
        const handledRadioGroups = new Set();

        Array.from(form.elements).forEach(element => {
            if (['button', 'submit', 'reset'].includes(element.type)) return;

            let value = '';
            let validationMessage = '';

            if (element.type === 'radio') {
                if (handledRadioGroups.has(element.name)) return;
                const selected = form.querySelector(`input[name="${element.name}"]:checked`);
                if (!selected) return;
                value = selected.value;
                handledRadioGroups.add(element.name);

            }else if (element.type === 'checkbox') {
                if (!element.checked) return;
                value = 'Checked';

            } else {
                value = element.value.trim();
                if (!value) return;
            
            if (['text', 'password', 'textarea', 'number', 'tel', 'email'].includes(element.type)){
                if (element.minLength > 0 && value.length < element.minLength) {
                    validationMessage = `error (min length ${element.minLength})`;
            } else if (element.maxLength > 0 && value.length > element.maxLength) {
                validationMessage = `error (max length ${element.maxLength})`;
            } else if (element.pattern) {
                const regex = new RegExp(`^${element.pattern}$`);
                if (!regex.test(value)) validationMessage = 'error (invalid format)';
            }
        } 
            if (element.id === 'vpass') {
                const passwordElement = document.getElementById('password');
                if (value !== passwordElement.value) validationMessage = 'error (password does not match)';
            }
        }
            const displayValue = (element.type === 'password') ? '*'.repeat(value.length) : value;
            const line = document.createElement('div');

            line.textContent = validationMessage 
                    ? `${element.name || element.id} : ${displayValue} -> ${validationMessage}` 
                    : `${element.name || element.id} : ${displayValue}`;

            line.style.color = validationMessage.startsWith('error') ? 'red' : 'green';
            output.appendChild(line);
        });
    });
});
</script>
</body>
</html>

    








    



                   




            
